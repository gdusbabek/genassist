extends layout

block scripts
    script(src='/js/async.js')
    script(src='/js/jquery-1.8.3.min.js')
    script(src='/js/jquery.cookie.js')
    script(src='/bootstrap/js/bootstrap.js')
    script(src='/js/playlist.js')

block header
    h2 Your playlist

block content
    div.row-fluid
        div.pagination-centered
            p Songs released since #{sinceYear} based on "#{songName}"
            button(class="btn pagination-centered", onclick="toggleOptions();") Moar!
    div.row-fluid
        div(class='span2')
        div.span8
            table(id="playlist_table", class="table table-striped table-condensed")
                thead
                    tr
                        th  
                        th Artist
                        th Song
                tbody
                    each song, i in songs
                        tr(id="row_#{song.id}", songId="#{song.id}", service='#{song.foreign_service}', foreignId='#{song.foreign_id}')
                            td(style="width: 10%")
                                div(class="btn-group")
                                    button(class="btn btn-mini", onclick="steer(null, 'more', '#{song.id}');")
                                        i(class="icon-thumbs-up")
                                    button(class="btn btn-mini", onclick="steer(null, 'less', '#{song.id}');")
                                        i(class="icon-thumbs-down")
                                    button(class="btn btn-mini", onclick="steer(null, 'remove', '#{song.id}');")
                                        i(class="icon-remove")
                            td #{song.artist_name}
                            td #{song.title}

            div.row-fluid(class="hide")
                p(id="sessionId") #{sessionId}
            div.row-fluid(class="modal hide fade", id="options-modal")
                h2 Playlist Options
                div.pagination-centered
                    div.input-prepend
                        button(class="btn", onclick="addSongs();") Add songs
                        input(type="text", class="span2", id="numSongsToAdd", placeholder="5")
    div.row-fluid
        div.pagination-centered
            button(class="btn", onclick="toggleSave();") Save this playlist!
        div.row-fluid(class="modal hide fade", id="save-modal")
            fieldset
                legend Save this puppy!
                label Playlist name
                input(type="text", placeholder="My awesome new playlist", id="playlist_name")
                button(class="btn btn-primary", onclick="savePlaylist();") Save

